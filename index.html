<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="top2"></div>
  <!-- 导航栏 -->
  <nav class="fixed nav-top">
    <div class="margin-lr-hidden">
      <div class="flex vcenter">
        <a href="" class="LOGO">A Toolsets</a>
        <div>
          <a href="">主页</a>
          <a href="">工具</a>
          <a href="">介绍</a>
        </div>
      </div>
    </div>
  </nav>
  <div class="screen">

  </div>
  <div class="c"></div>

  <script>
    // 顶部导航栏
    const nav = document.querySelector('.nav-top')
    window.addEventListener('scroll', function () {
      const n = document.documentElement.scrollTop
      n > 10 ? nav.style.top = '0px' : nav.style.top = '-80px'
    })

    
    // 顶部滚动条
    const progressBar = document.querySelector('.top2');
    
    window.addEventListener('scroll', () => {
      // 获取页面总高度和视口高度
      const documentHeight = Math.max(
        document.body.scrollHeight,
        document.documentElement.scrollHeight,
        document.body.offsetHeight,
        document.documentElement.offsetHeight,
        document.body.clientHeight,
        document.documentElement.clientHeight
      );
      
      const windowHeight = window.innerHeight;
      
      // 计算有效滚动高度
      const scrollableHeight = documentHeight - windowHeight;
      
      // 获取当前滚动位置
      const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
      
      // 计算百分比（添加边界检查）
      let percentage = (currentScroll / scrollableHeight) * 100;
      percentage = Math.min(Math.max(percentage, 0), 100);  // 确保在 0-100 之间
      
      progressBar.style.width = percentage + '%';
    });
  </script>
</body>

</html>